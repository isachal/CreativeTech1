<!DOCTYPE html>
<html lang="en">
<head>
    <link rel='stylesheet' href='main2.css' 
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Whispers to Alexa</title>
</head>
<body>
    <h1>Whispers to Alexa</h1>
  <header>
     <button id='fetchPoemline'> Some poetry...</button>

  </header> 
  
  

  <img src="ink.png" alt="splash">
  <main>
<section id="poemLine"> </section>


 





  </main>

  <!-- scripts -->

  <script>
      const poemButton = document.getElementById("fetchPoemline");
      const poemLine = document.getElementById("poemLine");

      poemButton.addEventListener("click", fetchPoemline);

      const randomPoemlineURL = 'https://poetrydb.org/lines/Tree/lines.json ' ;
    //   function fetchPoemline(){
    //     fetch(randomPoemlineURL). then(function (result) { 
    //         console.log(result);
    //         return result.json();
    //     }).
    //     then((data) => {
    //         console.log("JSON data from DB:");
    //         console.log(data);
    //         //displayPoem(data);


    //     }).catch((error) => {
    //         console.error(error);
        
    //     });

        function fetchPoemline() {
            fetch('https://poetrydb.org/lines/Tree/lines.json').
            then((result) => {
                console.log("Result from Poetry DB:")
                console.log(result);
                return result.json();
            }).
            then((data) => {
                console.log("JSON data from Poetry DB:");
                console.log(data);
                let randomNumber = parseInt(Math.random() * data[0].lines.length);
                let randomLine = data[0].lines[randomNumber];
                let lineContainer = document.createElement('p');
                lineContainer.innerText = randomLine;
                poemLine.appendChild(lineContainer);
            }).catch((error) => {
                console.error(error);
            });
        }

        //function displayPoem(data){
        
            //const drVerse = data[0].lines[randomNumber];  

            //const drLine = document.createElement('p');
            //drLine.innerText = drVerse;

    

        //}
        

      

  </script>
  <footer></footer>
</body>
</html>